{
  "_meta": {
    "description": "Issue tracking for [PROJECT NAME]",
    "version": "1.0.0",
    "created": "YYYY-MM-DDTHH:MM:SSZ",
    "last_updated": "YYYY-MM-DDTHH:MM:SSZ",
    "total_issues": 0,
    "open_issues": 0
  },
  "_instructions": {
    "usage": "This file tracks adhoc issues, bugs, and requests discovered during or after feature implementation",
    "rules": [
      "Issues can be added at any time using /harness.issue",
      "Update status field as issue progresses: open → in-progress → closed",
      "Bugs MUST have regression tests before closing (TDD enforced)",
      "Default: fix on same branch unless user requests separate branch",
      "NEVER delete issues - mark as closed instead"
    ],
    "tdd_enforcement": {
      "applies_to": ["bug"],
      "optional_for": ["hotfix", "enhancement", "adhoc"],
      "BLOCKING": "⚠️ Bugs MUST have regression_test_file and test_passes_after: true before closing",
      "workflow": [
        "1. Create regression test: tests/issues/I{id}-{description}.spec.ts",
        "2. Run test - verify it FAILS (reproduces the bug)",
        "3. Fix the bug",
        "4. Run test - verify it PASSES",
        "5. Set status: closed"
      ]
    },
    "categories": {
      "bug": "Defect in existing functionality - requires regression test",
      "hotfix": "Urgent fix needed - TDD optional based on urgency",
      "enhancement": "Improvement to existing feature - TDD recommended",
      "adhoc": "One-off request or task - no TDD required"
    },
    "status_lifecycle": {
      "open": "Issue identified, not yet started",
      "in-progress": "Currently being worked on",
      "closed": "Resolved and verified"
    },
    "priority_levels": {
      "critical": "Blocking - must fix immediately, may interrupt current work",
      "high": "Important - fix after current feature",
      "medium": "Normal - address when convenient",
      "low": "Minor - fix if time permits"
    },
    "branch_policy": {
      "default": "same-branch",
      "prompt_user": "When running /harness.issue, ask: 'Fix on current branch or create separate branch?'",
      "separate_branch_pattern": "hotfix/I{id}-{description}",
      "when_to_suggest_separate": [
        "Critical bugs affecting production",
        "Changes that may destabilize current work",
        "User explicitly requests isolation"
      ]
    }
  },
  "issues": [
    {
      "id": "I001",
      "category": "bug",
      "status": "open",
      "priority": "high",
      "description": "Example: Login button unresponsive on mobile",
      "steps_to_reproduce": [
        "Open app on mobile device",
        "Navigate to login page",
        "Tap login button",
        "Observe: nothing happens"
      ],
      "same_branch": true,
      "branch": null,
      "related_feature_id": 2,
      "discovered_in_session": "2024-12-06-10-30",
      "regression_test_file": null,
      "test_fails_before": false,
      "test_passes_after": false,
      "created_at": "2024-12-06T10:30:00Z",
      "closed_at": null
    },
    {
      "id": "I002",
      "category": "adhoc",
      "status": "open",
      "priority": "medium",
      "description": "Example: Add loading spinner to dashboard",
      "steps_to_reproduce": null,
      "same_branch": true,
      "branch": null,
      "related_feature_id": null,
      "discovered_in_session": "2024-12-06-11-00",
      "regression_test_file": null,
      "test_fails_before": false,
      "test_passes_after": false,
      "created_at": "2024-12-06T11:00:00Z",
      "closed_at": null
    }
  ]
}
